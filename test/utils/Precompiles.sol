// SPDX-License-Identifier: MIT
// solhint-disable max-line-length
pragma solidity >=0.8.18;

import { IPRBProxyRegistry } from "../../src/interfaces/IPRBProxyRegistry.sol";

/// @notice This is useful for external integrations seeking to test against the exact deployed bytecode, as recompiling
/// with via IR enabled would be time-consuming.
contract Precompiles {
    /*//////////////////////////////////////////////////////////////////////////
                                     BYTECODES
    //////////////////////////////////////////////////////////////////////////*/

    bytes public constant BYTECODE_REGISTRY =
        hex"6080806040523461001657612405908161001c8239f35b600080fdfe60806040818152600491823610156200001757600080fd5b60009260e0908435821c928363092af81314620011ab575082631ddef5b914620010f95782634bddd93a1462000db45782635cabcdf71462000cf357826361be48591462000c975782636383afb21462000af957826366b0182d14620009f257826374912cd21462000972578263775c300c14620008f9578263aa4b826a1462000816578263b31d1b9914620007a8578263b7fba4d31462000768578263b9678403146200036457508163fa557e931462000135575063ffa1ad7414620000dd57600080fd5b34620001315781600319360112620001315780516200012d916200010182620015e1565b600c82526b342e302e302d626574612e3560a01b60208301525191829160208352602083019062001621565b0390f35b5080fd5b838334620001315780600319360112620001315762000153620014c8565b926200015e620014e4565b60018060a01b03809516845260209460038652838520911684528452818320908251809486845492838152019381528681205b826007830110620002f5579287926200020195926200012d9989965493838310620002d7575b50828210620002b8575b82821062000299575b8282106200027a575b8282106200025b575b8282106200023e575b82821062000221575b50106200020c575b5090500383620015fe565b51918291826200152a565b6001600160e01b0319168152018087620001f6565b83811b6001600160e01b03191685529093019260010184620001ee565b83891b6001600160e01b03191685529093019260010184620001e5565b606084901b6001600160e01b03191685529093019260010184620001dc565b608084901b6001600160e01b03191685529093019260010184620001d3565b60a084901b6001600160e01b03191685529093019260010184620001ca565b60c084901b6001600160e01b03191685529093019260010184620001c1565b84901b6001600160e01b031916855290930192600101848b620001b7565b80546001600160e01b031981861b8116875260c082811b82168b89015260a083811b83168a8a0152608084811b84166060808c019190915285901b8416908a0152838a1b831690890152828b1b8216908801521685850152610100909401936008919091019060010162000191565b90929150346200076457602080600319360112620007605762000386620014c8565b33865260068252838620546001600160a01b039291908316156200074a57821694845193631abad16560e21b855287858281838b5af19485156200074057889562000671575b50845180156200065a57885b818110620005c75750503388526003835285882087895283528588209085519067ffffffffffffffff8211620005b457680100000000000000008211620005b45750815481835580821062000561575b50838601918952838920908060031c928a5b848110620005135750600719821690910390816200049c575b50505050509060067f71b3c95c0b8611d2f0f9c4e492ebbcf20d034943bccac6ef1a71ae90e0f243fa92338852528386205416925180620004963394826200152a565b0390a480f35b908a948b905b828210620004dc5750505050015560067f71b3c95c0b8611d2f0f9c4e492ebbcf20d034943bccac6ef1a71ae90e0f243fa38808062000453565b9091929587620005076001928951851c908660021b60031b9163ffffffff809116831b921b19161790565b970193920190620004a2565b8b8c5b88600882106200052f575050848201556001016200043a565b62000557859360019396518b1c908760021b60031b9163ffffffff809116831b921b19161790565b9201930162000516565b6200059290838b52858b20600780850160031c820192601c8660021b168062000599575b500160031c0190620016a8565b3862000428565b60001990818601918254918c0360031b1c1690553862000585565b634e487b7160e01b8a5260419052602489fd5b6001600160e01b0319620005dc828962001753565b5116338b526005808752898c20828d528752878a8d2054166200062257338c528652888b20908b528552878a2080546001600160a01b0319168a179055600101620003d8565b338c528652888b20818c528652888b205489516361a2116b60e11b815290881681860152602481018b90526044810191909152606490fd5b86516362d3093d60e11b8152808301899052602490fd5b9094503d8089833e620006858183620015fe565b810183828203126200073c57815167ffffffffffffffff9283821162000721570181601f820112156200073857805192831162000725578260051b90885193620006d287840186620015fe565b8452858085019282010192831162000721578501905b828210620006fb575050509338620003cc565b81516001600160e01b0319811681036200071d578152908501908501620006e8565b8b80fd5b8a80fd5b634e487b7160e01b8a526041875260248afd5b8980fd5b8880fd5b86513d8a823e3d90fd5b845163963e961b60e01b81523381860152602490fd5b8480fd5b8380fd5b505050346200013157602036600319011262000131576020916001600160a01b039082908262000797620014c8565b168152600685522054169051908152f35b915050346200081257606036600319011262000812578160209360ff92620007cf620014c8565b620007d9620014e4565b620007e3620014fb565b6001600160a01b0392831685529288528484209082168452875283832091168252855220549151911615158152f35b8280fd5b9150503462000812576060366003190112620008125762000836620014c8565b9162000841620014e4565b90604435801515809103620008f557338652600660209081528287205490946001600160a01b0391821615620008de57907f4f2bd80fb4928b06abcd76e3b26209a615f0612f98dc4a8b176934b1a3899333939291338952865280838920971696878952865280838920951694858952865282882060ff1981541660ff84161790553388526006865282882054169482519485528401523392a480f35b60249084519063963e961b60e01b82523390820152fd5b8580fd5b8385346200096f57806003193601126200096f573381526006602052819020546001600160a01b0390811692836200094257602083836200093a336200177e565b915191168152f35b91516356352f0b60e11b8152339281019283526001600160a01b0390931660208301525081906040010390fd5b80fd5b91505034620008125760203660031901126200081257819062000994620014c8565b6001600160a01b03808216865260066020529290942054821680620009c25750506200093a6020936200177e565b92516356352f0b60e11b81526001600160a01b039485169181019182529390921660208301525081906040010390fd5b50505034620001315781600319360112620001315760018060a01b039182815416916001938454169381519280916002549162000a2f8362001571565b8087529282811690811562000aca575060011462000a7b575b505050829162000a616200012d946060930384620015fe565b805195869586526020860152840152606083019062001621565b925060028352600080516020620023e58339815191525b82841062000ab15750505082016020018162000a616200012d62000a48565b8054602085880181019190915290930192810162000a92565b60ff191660208089019190915293151560051b8701909301935084925062000a6191506200012d905062000a48565b84848334620008125781600319360112620008125762000b18620014c8565b62000b22620014e4565b8351638da5cb5b60e01b815260209691926001600160a01b03928891839190829086165afa90811562000c8d57908291879162000c59575b5016855260038652838520911684528452818320908251809486845492838152019381528681205b82600783011062000bea579287926200020195926200012d9989965493838310620002d75750828210620002b85782821062000299578282106200027a578282106200025b578282106200023e57828210620002215750106200020c575090500383620015fe565b80546001600160e01b031981861b8116875260c082811b82168b89015260a083811b83168a8a0152608084811b84166060808c019190915285901b8416908a0152838a1b831690890152828b1b8216908801521685850152610100909401936008919091019060010162000b82565b62000c7e9150883d8a1162000c85575b62000c758183620015fe565b81019062001663565b8862000b5a565b503d62000c69565b85513d88823e3d90fd5b5050503462000131578060031936011262000131576020918162000cba620014c8565b9162000cc562001512565b6001600160a01b039384168252600586528282206001600160e01b0319909116825285522054915191168152f35b8385346200096f5760603660031901126200096f5762000d12620014c8565b62000d1c620014e4565b9062000d27620014fb565b91845195638da5cb5b60e01b87526020968781838160018060a01b038098165afa90811562000daa5791848896949288969460ff999162000d88575b5016855288528185852091168452875283832091168252855220541690519015158152f35b62000da391508b3d8d1162000c855762000c758183620015fe565b8b62000d63565b87513d88823e3d90fd5b92915034620007645760209283600319360112620007605762000dd6620014c8565b338652600685528386205490946001600160a01b03929091831615620010e257338752600382528285882096169586885282528487209385519083829687928282549586815201918c52828c20948c5b8b8260078301106200106757508462000e8e97549383831062001049575b508282106200102a575b8282106200100b575b82821062000fec575b82821062000fcd575b82821062000fb0575b82821062000f93575b501062000f7d575b5090500385620015fe565b835190811562000f665750865b81811062000f255750509060067f0971095f3fa0f917fd0ad98319d7cdb8e837d8c98d5e47fb2700e8b68ac961c99233885260038152858820878952815285882080548982558062000f03575b5050338852528386205416925180620004963394826200152a565b62000f1d918a526007838b20910160031c810190620016a8565b388062000ee8565b33885260058352858820600191906001600160e01b031962000f48838962001753565b51168a52845286892080546001600160a01b03191690550162000e9b565b85516338d4b05760e01b8152908101879052602490fd5b6001600160e01b03191681528591013862000e83565b83811b6001600160e01b0319168552909301926001018462000e7b565b838d1b6001600160e01b0319168552909301926001018462000e72565b606084901b6001600160e01b0319168552909301926001018462000e69565b608084901b6001600160e01b0319168552909301926001018462000e60565b60a084901b6001600160e01b0319168552909301926001018462000e57565b60c084901b6001600160e01b0319168552909301926001018462000e4e565b84901b6001600160e01b031916855290930192600101843862000e44565b836008949750600193966101009396928a549283809363ffffffff60e01b809681941b16875260c0938383861b1682890152838360a0928282851b16818c0152608083838d606090818484871b169101521b16908c01521b16908801521b169084015216878201520195019101928692899495929562000e26565b60249085519063963e961b60e01b82523390820152fd5b8385346200096f57816003193601126200096f5762001117620014c8565b906200112262001512565b8351638da5cb5b60e01b81526020956001600160a01b039487918391829088165afa908115620011a15783929185918795916200117f575b50168252600586528282206001600160e01b0319909116825285522054915191168152f35b6200119a9150883d8a1162000c855762000c758183620015fe565b886200115a565b85513d85823e3d90fd5b908486346200096f57816003193601126200096f57620011ca620014c8565b9060243567ffffffffffffffff94858211620008125736602383011215620008125781810135958087116200076457366024888501011162000764573384526020966006885260018060a01b0398898887205416806200149e5750506200124987513360601b8a820152601481526200124381620015e1565b62001684565b93620012cd8a808a516200125d81620015ae565b338152818d82019b168b52898d8d5197806024601f199962001287858c601f860116018d620015fe565b828c5201838b013788010152858c8201525116986001600160601b0360a01b998a8a5416178955511660018060a01b03166001600160601b0360a01b6001541617600155565b8151918383116200148b57908291620012e860025462001571565b8b601f82116200143e575b50508a91601f8411600114620013cc57508792620013c0575b50508160011b916000199060031b1c1916176002555b8551916109f1908184019284841090841117620013ad5750908291620019f48339039083f5948515620013a1578394951693849162001360620016c1565b338152600687522091825416179055805182815233907f2d8895d948115783fa362a57339c4c179365fafeafdd7dca66364ae296f50b75853392a351908152f35b508251903d90823e3d90fd5b634e487b7160e01b865260419052602485fd5b015190508a806200130c565b60028952600080516020620023e58339815191529316885b8c828210620014275750509084600195949392106200140d575b505050811b0160025562001322565b015160001960f88460031b161c191690558a8080620013fe565b6001859682939686015181550195019301620013e4565b620014789160028b52600080516020620023e583398151915290601f870160051c820192871062001480575b601f0160051c0190620016a8565b8c8b620012f3565b90915081906200146a565b634e487b7160e01b875260418552602487fd5b6356352f0b60e11b8252338583019081526001600160a01b03909116602082015281906040010390fd5b600435906001600160a01b0382168203620014df57565b600080fd5b602435906001600160a01b0382168203620014df57565b604435906001600160a01b0382168203620014df57565b602435906001600160e01b031982168203620014df57565b6020908160408183019282815285518094520193019160005b82811062001552575050505090565b83516001600160e01b0319168552938101939281019260010162001543565b90600182811c92168015620015a3575b60208310146200158d57565b634e487b7160e01b600052602260045260246000fd5b91607f169162001581565b6060810190811067ffffffffffffffff821117620015cb57604052565b634e487b7160e01b600052604160045260246000fd5b6040810190811067ffffffffffffffff821117620015cb57604052565b90601f8019910116810190811067ffffffffffffffff821117620015cb57604052565b919082519283825260005b8481106200164e575050826000602080949584010152601f8019910116010190565b6020818301810151848301820152016200162c565b90816020910312620014df57516001600160a01b0381168103620014df5790565b60208151910151906020811062001699575090565b6000199060200360031b1b1690565b818110620016b4575050565b60008155600101620016a8565b60008080556001818155620016d860025462001571565b9081620016e457505050565b601f8211600114620016f7575050600255565b60028352601f600080516020620023e5833981519152920160051c82017f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acf5b81811062001748575050508160025555565b848155820162001736565b8051821015620017685760209160051b010190565b634e487b7160e01b600052603260045260246000fd5b9060409182519060018060a01b03620017b8818316936020936001600160601b03199060601b1684820152601481526200124381620015e1565b90855190620017c782620015ae565b8482528382019260009283855288518681019167ffffffffffffffff9282811084821117620019df57856200183792848e839481528a82528201525116976001600160601b0360a01b9889895416178855511660018060a01b03166001600160601b0360a01b6001541617600155565b805190828211620019085781906200185160025462001571565b601f81116200199f575b508890601f8311600114620019285787926200191c575b50508160011b916000199060031b1c1916176002555b8851906109f1808301918211838310176200190857908291620019f48339039084f58015620018fe57917f2d8895d948115783fa362a57339c4c179365fafeafdd7dca66364ae296f50b759391889316978891620018e5620016c1565b87815260068752209182541617905551918583523392a3565b87513d84823e3d90fd5b634e487b7160e01b86526041600452602486fd5b01519050388062001872565b60028852600080516020620023e58339815191529250601f198416885b8b828210620019885750509084600195949392106200196e575b505050811b0160025562001888565b015160001960f88460031b161c191690553880806200195f565b600185968293968601518155019501930162001945565b620019d89060028952600080516020620023e5833981519152601f850160051c8101918c86106200148057601f0160051c0190620016a8565b386200185b565b634e487b7160e01b87526041600452602487fdfe60c08060405234620000ca573360a0526366b0182d60e01b8152600081600481335afa8015620000c4576000809281926200009b575b506080526001600160a01b03821662000087575b60405161068e9081620003638239608051818181610192015281816102c401526104a5015260a05181818161014d0152818161031301526105250152f35b6200009291620002b2565b50388062000049565b909150620000bb92503d8092823e620000b482620000e5565b016200018e565b90913862000035565b62000221565b600080fd5b634e487b7160e01b600052604160045260246000fd5b60c0601f91909101601f19168101906001600160401b038211908210176200010c57604052565b620000cf565b601f909101601f19168101906001600160401b038211908210176200010c57604052565b60e051906001600160a01b0382168203620000ca57565b6001600160401b0381116200010c57601f01601f191660200190565b60005b8381106200017d5750506000910152565b81810151838201526020016200016c565b606060bf19820112620000ca5760c0516001600160a01b0381168103620000ca5791620001ba62000136565b610100519092906001600160401b038111620000ca578160df82011215620000ca578060c00151620001ec816200014d565b92620001fc604051948562000112565b81845260e08284010111620000ca576200021e9160e060208501910162000169565b90565b6040513d6000823e3d90fd5b3d156200025d573d9062000241826200014d565b9162000251604051938462000112565b82523d6000602084013e565b606090565b906020916200027d8151809281855285808601910162000169565b601f01601f1916010190565b9091620002a36200021e9360408452604084019062000262565b91602081840391015262000262565b9190823b156200034157600080825160208401865af4907fb24ebe141c5f2a744b103bea65fce6c40e0dc65d7341d092c09b160f40447990620002f46200022d565b60405190956001600160a01b0316928190620003139088908362000289565b0390a2156200031e57565b508051156200032f57602081519101fd5b60405163061a160d60e41b8152600490fd5b604051636d17e5ef60e11b81526001600160a01b0384166004820152602490fdfe60806040526004361015610027575b36156100255761001d366102b5565b602081519101f35b005b6000803560e01c9081631cff79cd1461005a575080637b1039991461005557638da5cb5b0361000e5761017c565b610137565b60403660031901126100ca57600435610072816100cd565b60243567ffffffffffffffff928382116100ca57366023830112156100ca5781600401359384116100ca5736602485840101116100ca576100c66100ba8560248501866104a2565b60405191829182610123565b0390f35b80fd5b6001600160a01b038116036100de57565b600080fd5b919082519283825260005b84811061010f575050826000602080949584010152601f8019910116010190565b6020818301810151848301820152016100ee565b9060206101349281815201906100e3565b90565b346100de5760003660031901126100de576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346100de5760003660031901126100de576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff8211176101f957604052565b6101c1565b908160209103126100de5751610134816100cd565b6040513d6000823e3d90fd5b908160008237016000815290565b67ffffffffffffffff81116101f957601f01601f191660200190565b3d15610274573d9061025a8261022d565b9161026860405193846101d7565b82523d6000602084013e565b606090565b606090610134939260408252806040830152806000848401376000838284010152601f80199101168101906020838284030191015201906100e3565b6040516361be485960e01b81527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0381811660048401526001600160e01b03196000351660248401819052939493906020846044817f000000000000000000000000000000000000000000000000000000000000000085165afa93841561044e5760009461041e575b5083169182156103e357505060008060405180610362818961021f565b0390845af4907fc4dabe0d7ef7462e2218f2c398c21ef217803e1c46f5cf802d1a5d1d9b503f2f610391610249565b80966103a260405192839283610279565b0390a2156103ad5750565b8251909150156103c05750805190602001fd5b60405163023c045d60e21b81526001600160a01b03919091166004820152602490fd5b604051638848730f60e01b81523360048201526001600160a01b039190911660248201526001600160e01b0319919091166044820152606490fd5b61044091945060203d8111610447575b61043881836101d7565b8101906101fe565b9238610345565b503d61042e565b610213565b908160209103126100de575180151581036100de5790565b9291926104778261022d565b9161048560405193846101d7565b8294818452818301116100de578281602093846000960137010152565b917f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0333818316036104ee575b505061013492916104e891369161046b565b906105e5565b60405163b31d1b9960e01b81526001600160a01b0383811660048301523360248301528616604482015290602090829060649082907f0000000000000000000000000000000000000000000000000000000000000000165afa90811561044e57600091610592575b501561056257806104d6565b6040516355d1750960e01b81526001600160a01b0391821660048201523360248201529084166044820152606490fd5b6105b3915060203d81116105b9575b6105ab81836101d7565b810190610453565b38610556565b503d6105a1565b90916105d7610134936040845260408401906100e3565b9160208184039101526100e3565b9190823b1561066d57600080825160208401865af4907fb24ebe141c5f2a744b103bea65fce6c40e0dc65d7341d092c09b160f40447990610624610249565b60405190956001600160a01b0316928190610641908890836105c0565b0390a21561064b57565b5080511561065b57602081519101fd5b60405163061a160d60e41b8152600490fd5b604051636d17e5ef60e11b81526001600160a01b0384166004820152602490fd405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace";

    /*//////////////////////////////////////////////////////////////////////////
                                     DEPLOYERS
    //////////////////////////////////////////////////////////////////////////*/

    /// @notice Deploys {PRBProxyRegistry} from precompiled bytecode.
    function deployRegistry() public returns (IPRBProxyRegistry registry) {
        bytes memory bytecode = BYTECODE_REGISTRY;
        assembly {
            registry := create(0, add(bytecode, 0x20), mload(bytecode))
        }
        require(address(registry) != address(0), "PRBProxy Precompiles: deployment failed for Registry contract");
    }
}
