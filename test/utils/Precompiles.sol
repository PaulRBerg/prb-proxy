// SPDX-License-Identifier: MIT
// solhint-disable max-line-length
pragma solidity >=0.8.18;

import { IPRBProxyRegistry } from "../../src/interfaces/IPRBProxyRegistry.sol";

/// @notice This is useful for external integrations seeking to test against the exact deployed bytecode, as recompiling
/// with via IR enabled would be time-consuming.
contract Precompiles {
    /*//////////////////////////////////////////////////////////////////////////
                                     BYTECODES
    //////////////////////////////////////////////////////////////////////////*/

    bytes public constant BYTECODE_REGISTRY =
        hex"6080806040523461001657612498908161001c8239f35b600080fdfe60806040818152600491823610156200001757600080fd5b60009260e0908435821c928363092af8131462000e6d575082631ddef5b91462000dbb5782634bddd93a1462000a685782635cabcdf714620009a757826361be4859146200094b5782636383afb214620007ad57826366b0182d14620006a657826374912cd21462000626578263775c300c14620005ad578263aa4b826a14620004ca578263b31d1b991462000460578263b7fba4d31462000420578263b967840314620003b857508163fa557e93146200018957508063fb4a4d0814620001415763ffa1ad7414620000e957600080fd5b346200013d57816003193601126200013d57805162000139916200010d82620012a3565b600c82526b342e302e302d626574612e3560a01b602083015251918291602083526020830190620012e3565b0390f35b5080fd5b50346200013d5760203660031901126200013d57602090620001626200118a565b9062000179620001723362001440565b92620016b5565b516001600160a01b039091168152f35b8383346200013d57806003193601126200013d57620001a76200118a565b92620001b2620011a6565b60018060a01b03809516845260209460038652838520911684528452818320908251809486845492838152019381528681205b82600783011062000349579287926200025595926200013999899654938383106200032b575b508282106200030c575b828210620002ed575b828210620002ce575b828210620002af575b82821062000292575b82821062000275575b501062000260575b5090500383620012c0565b5191829182620011ec565b6001600160e01b03191681520180876200024a565b83811b6001600160e01b0319168552909301926001018462000242565b83891b6001600160e01b0319168552909301926001018462000239565b606084901b6001600160e01b0319168552909301926001018462000230565b608084901b6001600160e01b0319168552909301926001018462000227565b60a084901b6001600160e01b031916855290930192600101846200021e565b60c084901b6001600160e01b0319168552909301926001018462000215565b84901b6001600160e01b031916855290930192600101848b6200020b565b80546001600160e01b031981861b8116875260c082811b82168b89015260a083811b83168a8a0152608084811b84166060808c019190915285901b8416908a0152838a1b831690890152828b1b82169088015216858501526101009094019360089190910190600101620001e5565b915050346200041c5760203660031901126200041c57620003d86200118a565b3384526006602052828420549092906001600160a01b0316156200040557836200040284620016b5565b80f35b60249250519063963e961b60e01b82523390820152fd5b8280fd5b505050346200013d5760203660031901126200013d576020916001600160a01b03908290826200044f6200118a565b168152600685522054169051908152f35b915050346200041c5760603660031901126200041c578160209360ff92620004876200118a565b62000491620011a6565b6200049b620011bd565b6001600160a01b0392831685529288528484209082168452875283832091168252855220549151911615158152f35b915050346200041c5760603660031901126200041c57620004ea6200118a565b91620004f5620011a6565b90604435801515809103620005a957338652600660209081528287205490946001600160a01b03918216156200059257907f4f2bd80fb4928b06abcd76e3b26209a615f0612f98dc4a8b176934b1a3899333939291338952865280838920971696878952865280838920951694858952865282882060ff1981541660ff84161790553388526006865282882054169482519485528401523392a480f35b60249084519063963e961b60e01b82523390820152fd5b8580fd5b83853462000623578060031936011262000623573381526006602052819020546001600160a01b039081169283620005f65760208383620005ee3362001440565b915191168152f35b91516356352f0b60e11b8152339281019283526001600160a01b0390931660208301525081906040010390fd5b80fd5b915050346200041c5760203660031901126200041c578190620006486200118a565b6001600160a01b0380821686526006602052929094205482168062000676575050620005ee60209362001440565b92516356352f0b60e11b81526001600160a01b039485169181019182529390921660208301525081906040010390fd5b505050346200013d57816003193601126200013d5760018060a01b0391828154169160019384541693815192809160025491620006e38362001233565b808752928281169081156200077e57506001146200072f575b50505082916200071562000139946060930384620012c0565b8051958695865260208601528401526060830190620012e3565b925060028352600080516020620024788339815191525b82841062000765575050508201602001816200071562000139620006fc565b8054602085880181019190915290930192810162000746565b60ff191660208089019190915293151560051b87019093019350849250620007159150620001399050620006fc565b848483346200041c57816003193601126200041c57620007cc6200118a565b620007d6620011a6565b8351638da5cb5b60e01b815260209691926001600160a01b03928891839190829086165afa908115620009415790829187916200090d575b5016855260038652838520911684528452818320908251809486845492838152019381528681205b8260078301106200089e579287926200025595926200013999899654938383106200032b57508282106200030c57828210620002ed57828210620002ce57828210620002af5782821062000292578282106200027557501062000260575090500383620012c0565b80546001600160e01b031981861b8116875260c082811b82168b89015260a083811b83168a8a0152608084811b84166060808c019190915285901b8416908a0152838a1b831690890152828b1b8216908801521685850152610100909401936008919091019060010162000836565b620009329150883d8a1162000939575b620009298183620012c0565b81019062001325565b886200080e565b503d6200091d565b85513d88823e3d90fd5b505050346200013d57806003193601126200013d57602091816200096e6200118a565b9162000979620011d4565b6001600160a01b039384168252600586528282206001600160e01b0319909116825285522054915191168152f35b838534620006235760603660031901126200062357620009c66200118a565b620009d0620011a6565b90620009db620011bd565b91845195638da5cb5b60e01b87526020968781838160018060a01b038098165afa90811562000a5e5791848896949288969460ff999162000a3c575b5016855288528185852091168452875283832091168252855220541690519015158152f35b62000a5791508b3d8d116200093957620009298183620012c0565b8b62000a17565b87513d88823e3d90fd5b9291503462000db7576020928360031936011262000db35762000a8a6200118a565b338652600685528386205490946001600160a01b0392909183161562000d9c57338752600382528285882096169586885282528487209385519083829687928282549586815201918c52828c20948c5b8b82600783011062000d2157508462000b4297549383831062000d03575b5082821062000ce4575b82821062000cc5575b82821062000ca6575b82821062000c87575b82821062000c6a575b82821062000c4d575b501062000c37575b5090500385620012c0565b835190811562000c205750865b81811062000bdf5750509060067f0971095f3fa0f917fd0ad98319d7cdb8e837d8c98d5e47fb2700e8b68ac961c99233885260038152858820878952815285882080548982558062000bbd575b505033885252838620541692518062000bb7339482620011ec565b0390a480f35b62000bd7918a526007838b20910160031c8101906200136a565b388062000b9c565b33885260058352858820600191906001600160e01b031962000c02838962001415565b51168a52845286892080546001600160a01b03191690550162000b4f565b85516338d4b05760e01b8152908101879052602490fd5b6001600160e01b03191681528591013862000b37565b83811b6001600160e01b0319168552909301926001018462000b2f565b838d1b6001600160e01b0319168552909301926001018462000b26565b606084901b6001600160e01b0319168552909301926001018462000b1d565b608084901b6001600160e01b0319168552909301926001018462000b14565b60a084901b6001600160e01b0319168552909301926001018462000b0b565b60c084901b6001600160e01b0319168552909301926001018462000b02565b84901b6001600160e01b031916855290930192600101843862000af8565b836008949750600193966101009396928a549283809363ffffffff60e01b809681941b16875260c0938383861b1682890152838360a0928282851b16818c0152608083838d606090818484871b169101521b16908c01521b16908801521b169084015216878201520195019101928692899495929562000ada565b60249085519063963e961b60e01b82523390820152fd5b8480fd5b8380fd5b838534620006235781600319360112620006235762000dd96200118a565b9062000de4620011d4565b8351638da5cb5b60e01b81526020956001600160a01b039487918391829088165afa90811562000e6357839291859187959162000e41575b50168252600586528282206001600160e01b0319909116825285522054915191168152f35b62000e5c9150883d8a116200093957620009298183620012c0565b8862000e1c565b85513d85823e3d90fd5b90848634620006235781600319360112620006235762000e8c6200118a565b9060243567ffffffffffffffff948582116200041c57366023830112156200041c57818101359580871162000db757366024888501011162000db7573384526020966006885260018060a01b0398898887205416806200116057505062000f0b87513360601b8a8201526014815262000f0581620012a3565b62001346565b9362000f8f8a808a5162000f1f8162001270565b338152818d82019b168b52898d8d5197806024601f199962000f49858c601f860116018d620012c0565b828c5201838b013788010152858c8201525116986001600160601b0360a01b998a8a5416178955511660018060a01b03166001600160601b0360a01b6001541617600155565b8151918383116200114d5790829162000faa60025462001233565b8b601f821162001100575b50508a91601f84116001146200108e5750879262001082575b50508160011b916000199060031b1c1916176002555b8551916109f19081840192848410908411176200106f575090829162001a878339039083f59485156200106357839495169384916200102262001383565b338152600687522091825416179055805182815233907f2d8895d948115783fa362a57339c4c179365fafeafdd7dca66364ae296f50b75853392a351908152f35b508251903d90823e3d90fd5b634e487b7160e01b865260419052602485fd5b015190508a8062000fce565b60028952600080516020620024788339815191529316885b8c828210620010e9575050908460019594939210620010cf575b505050811b0160025562000fe4565b015160001960f88460031b161c191690558a8080620010c0565b6001859682939686015181550195019301620010a6565b6200113a9160028b526000805160206200247883398151915290601f870160051c820192871062001142575b601f0160051c01906200136a565b8c8b62000fb5565b90915081906200112c565b634e487b7160e01b875260418552602487fd5b6356352f0b60e11b8252338583019081526001600160a01b03909116602082015281906040010390fd5b600435906001600160a01b0382168203620011a157565b600080fd5b602435906001600160a01b0382168203620011a157565b604435906001600160a01b0382168203620011a157565b602435906001600160e01b031982168203620011a157565b6020908160408183019282815285518094520193019160005b82811062001214575050505090565b83516001600160e01b0319168552938101939281019260010162001205565b90600182811c9216801562001265575b60208310146200124f57565b634e487b7160e01b600052602260045260246000fd5b91607f169162001243565b6060810190811067ffffffffffffffff8211176200128d57604052565b634e487b7160e01b600052604160045260246000fd5b6040810190811067ffffffffffffffff8211176200128d57604052565b90601f8019910116810190811067ffffffffffffffff8211176200128d57604052565b919082519283825260005b84811062001310575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201620012ee565b90816020910312620011a157516001600160a01b0381168103620011a15790565b6020815191015190602081106200135b575090565b6000199060200360031b1b1690565b81811062001376575050565b600081556001016200136a565b600080805560018181556200139a60025462001233565b9081620013a657505050565b601f8211600114620013b9575050600255565b60028352601f60008051602062002478833981519152920160051c82017f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acf5b8181106200140a575050508160025555565b8481558201620013f8565b80518210156200142a5760209160051b010190565b634e487b7160e01b600052603260045260246000fd5b9060409182519060018060a01b036200147a818316936020936001600160601b03199060601b16848201526014815262000f0581620012a3565b90855190620014898262001270565b8482528382019260009283855288518681019167ffffffffffffffff9282811084821117620016a15785620014f992848e839481528a82528201525116976001600160601b0360a01b9889895416178855511660018060a01b03166001600160601b0360a01b6001541617600155565b805190828211620015ca5781906200151360025462001233565b601f811162001661575b508890601f8311600114620015ea578792620015de575b50508160011b916000199060031b1c1916176002555b8851906109f180830191821183831017620015ca5790829162001a878339039084f58015620015c057917f2d8895d948115783fa362a57339c4c179365fafeafdd7dca66364ae296f50b759391889316978891620015a762001383565b87815260068752209182541617905551918583523392a3565b87513d84823e3d90fd5b634e487b7160e01b86526041600452602486fd5b01519050388062001534565b60028852600080516020620024788339815191529250601f198416885b8b8282106200164a57505090846001959493921062001630575b505050811b016002556200154a565b015160001960f88460031b161c1916905538808062001621565b600185968293968601518155019501930162001607565b6200169a906002895260008051602062002478833981519152601f850160051c8101918c86106200114257601f0160051c01906200136a565b386200151d565b634e487b7160e01b87526041600452602487fd5b60408051631abad16560e21b81526001600160a01b0392831692600490600080848481838a5af193841562001a7a578194620019ab575b50835180156200199457815b818110620018ff5750503381526020926003845285822087835284528582209085519067ffffffffffffffff8211620018ec57680100000000000000008211620018ec5750815481835580821062001899575b50908692918587019183528583208160031c91845b8381106200183c57506007198116900380620017bb575b5050505060067f71b3c95c0b8611d2f0f9c4e492ebbcf20d034943bccac6ef1a71ae90e0f243fa9433835252205416925180620017b6339482620011ec565b0390a4565b928493855b818110620017f857505050015560067f71b3c95c0b8611d2f0f9c4e492ebbcf20d034943bccac6ef1a71ae90e0f243fa388062001777565b9195979880975062001829600192949596885160e01c908560021b60031b9163ffffffff809116831b921b19161790565b96019101918a96989795949392620017c0565b9091929394809650865b896008821062001866575050838201558995949392919060010162001760565b6200188f8893600193995160e01c908a60021b60031b9163ffffffff809116831b921b19161790565b9201960162001846565b620018ca90838552868520600780850160031c820192601c8660021b1680620018d1575b500160031c01906200136a565b386200174b565b60001990818601918254918d0360031b1c16905538620018bd565b634e487b7160e01b845260419052602483fd5b6001600160e01b031962001914828862001415565b511633845260056020908082528986208387528252868a872054166200195c5733865281528885209185525286832080546001600160a01b03191689179055600101620016f8565b338652815288852082865290528784205488516361a2116b60e11b815290861681880152602481018a90526044810191909152606490fd5b85516362d3093d60e11b8152808501889052602490fd5b9093503d8085833e620019bf8183620012c0565b81016020908183820312620005a957825167ffffffffffffffff9384821162001a5f570181601f8201121562001a7657805193841162001a63578360051b9088519462001a0f85840187620012c0565b8552838086019282010192831162001a5f578301905b82821062001a3957505050509238620016ec565b81516001600160e01b03198116810362001a5b57815290830190830162001a25565b8880fd5b8780fd5b634e487b7160e01b875260418652602487fd5b8680fd5b508451903d90823e3d90fdfe60c08060405234620000ca573360a0526366b0182d60e01b8152600081600481335afa8015620000c4576000809281926200009b575b506080526001600160a01b03821662000087575b60405161068e9081620003638239608051818181610192015281816102c401526104a5015260a05181818161014d0152818161031301526105250152f35b6200009291620002b2565b50388062000049565b909150620000bb92503d8092823e620000b482620000e5565b016200018e565b90913862000035565b62000221565b600080fd5b634e487b7160e01b600052604160045260246000fd5b60c0601f91909101601f19168101906001600160401b038211908210176200010c57604052565b620000cf565b601f909101601f19168101906001600160401b038211908210176200010c57604052565b60e051906001600160a01b0382168203620000ca57565b6001600160401b0381116200010c57601f01601f191660200190565b60005b8381106200017d5750506000910152565b81810151838201526020016200016c565b606060bf19820112620000ca5760c0516001600160a01b0381168103620000ca5791620001ba62000136565b610100519092906001600160401b038111620000ca578160df82011215620000ca578060c00151620001ec816200014d565b92620001fc604051948562000112565b81845260e08284010111620000ca576200021e9160e060208501910162000169565b90565b6040513d6000823e3d90fd5b3d156200025d573d9062000241826200014d565b9162000251604051938462000112565b82523d6000602084013e565b606090565b906020916200027d8151809281855285808601910162000169565b601f01601f1916010190565b9091620002a36200021e9360408452604084019062000262565b91602081840391015262000262565b9190823b156200034157600080825160208401865af4907fb24ebe141c5f2a744b103bea65fce6c40e0dc65d7341d092c09b160f40447990620002f46200022d565b60405190956001600160a01b0316928190620003139088908362000289565b0390a2156200031e57565b508051156200032f57602081519101fd5b60405163061a160d60e41b8152600490fd5b604051636d17e5ef60e11b81526001600160a01b0384166004820152602490fdfe60806040526004361015610027575b36156100255761001d366102b5565b602081519101f35b005b6000803560e01c9081631cff79cd1461005a575080637b1039991461005557638da5cb5b0361000e5761017c565b610137565b60403660031901126100ca57600435610072816100cd565b60243567ffffffffffffffff928382116100ca57366023830112156100ca5781600401359384116100ca5736602485840101116100ca576100c66100ba8560248501866104a2565b60405191829182610123565b0390f35b80fd5b6001600160a01b038116036100de57565b600080fd5b919082519283825260005b84811061010f575050826000602080949584010152601f8019910116010190565b6020818301810151848301820152016100ee565b9060206101349281815201906100e3565b90565b346100de5760003660031901126100de576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346100de5760003660031901126100de576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff8211176101f957604052565b6101c1565b908160209103126100de5751610134816100cd565b6040513d6000823e3d90fd5b908160008237016000815290565b67ffffffffffffffff81116101f957601f01601f191660200190565b3d15610274573d9061025a8261022d565b9161026860405193846101d7565b82523d6000602084013e565b606090565b606090610134939260408252806040830152806000848401376000838284010152601f80199101168101906020838284030191015201906100e3565b6040516361be485960e01b81527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0381811660048401526001600160e01b03196000351660248401819052939493906020846044817f000000000000000000000000000000000000000000000000000000000000000085165afa93841561044e5760009461041e575b5083169182156103e357505060008060405180610362818961021f565b0390845af4907fc4dabe0d7ef7462e2218f2c398c21ef217803e1c46f5cf802d1a5d1d9b503f2f610391610249565b80966103a260405192839283610279565b0390a2156103ad5750565b8251909150156103c05750805190602001fd5b60405163023c045d60e21b81526001600160a01b03919091166004820152602490fd5b604051638848730f60e01b81523360048201526001600160a01b039190911660248201526001600160e01b0319919091166044820152606490fd5b61044091945060203d8111610447575b61043881836101d7565b8101906101fe565b9238610345565b503d61042e565b610213565b908160209103126100de575180151581036100de5790565b9291926104778261022d565b9161048560405193846101d7565b8294818452818301116100de578281602093846000960137010152565b917f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0333818316036104ee575b505061013492916104e891369161046b565b906105e5565b60405163b31d1b9960e01b81526001600160a01b0383811660048301523360248301528616604482015290602090829060649082907f0000000000000000000000000000000000000000000000000000000000000000165afa90811561044e57600091610592575b501561056257806104d6565b6040516355d1750960e01b81526001600160a01b0391821660048201523360248201529084166044820152606490fd5b6105b3915060203d81116105b9575b6105ab81836101d7565b810190610453565b38610556565b503d6105a1565b90916105d7610134936040845260408401906100e3565b9160208184039101526100e3565b9190823b1561066d57600080825160208401865af4907fb24ebe141c5f2a744b103bea65fce6c40e0dc65d7341d092c09b160f40447990610624610249565b60405190956001600160a01b0316928190610641908890836105c0565b0390a21561064b57565b5080511561065b57602081519101fd5b60405163061a160d60e41b8152600490fd5b604051636d17e5ef60e11b81526001600160a01b0384166004820152602490fd405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace";

    /*//////////////////////////////////////////////////////////////////////////
                                     DEPLOYERS
    //////////////////////////////////////////////////////////////////////////*/

    /// @notice Deploys {PRBProxyRegistry} from precompiled bytecode.
    function deployRegistry() public returns (IPRBProxyRegistry registry) {
        bytes memory bytecode = BYTECODE_REGISTRY;
        assembly {
            registry := create(0, add(bytecode, 0x20), mload(bytecode))
        }
        require(address(registry) != address(0), "PRBProxy Precompiles: deployment failed for Registry contract");
    }
}
