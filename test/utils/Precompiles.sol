// SPDX-License-Identifier: MIT
// solhint-disable max-line-length
pragma solidity >=0.8.18;

import { IPRBProxyRegistry } from "../../src/interfaces/IPRBProxyRegistry.sol";

/// @notice This is useful for external integrations seeking to test against the exact deployed bytecode, as recompiling
/// with via IR enabled would be time-consuming.
contract Precompiles {
    /*//////////////////////////////////////////////////////////////////////////
                                     BYTECODES
    //////////////////////////////////////////////////////////////////////////*/

    bytes public constant BYTECODE_REGISTRY =
        hex"6080806040523461001657611ccf908161001c8239f35b600080fdfe6080604090808252600491823610156200001857600080fd5b600091823560e01c908163092af81314620009c4575080631ddef5b914620009125780632c27a01f14620008d75780634bddd93a14620007ae5780635cabcdf714620006db57806361be4859146200068157806366b0182d146200057c57806374912cd214620004fd578063775c300c1462000484578063aa4b826a14620003a6578063b31d1b99146200033d578063b7fba4d314620002ff578063b9678403146200014b5763ffa1ad7414620000ce57600080fd5b3462000147578160031936011262000147578051918183019083821067ffffffffffffffff8311176200013457506200013093508152600c82526b342e302e302d626574612e3560a01b60208301525191829160208352602083019062000e25565b0390f35b634e487b7160e01b815260418552602490fd5b5080fd5b508234620002fb5760209182600319360112620002f7576001600160a01b03823581811694919390859003620002f3573386526006825283838720541615620002dc57825163ecdb286560e01b81529086828281838a5af1918215620002d2578792620002a9575b5081519182156200029257875b838110620001ff57505050506006903386525283205416337f9638c85f58d5866b4eb299b2e5f8f366372bd58e2d6e6e6eb19f3462948f33878480a480f35b6001600160e01b031962000214828462000fca565b5116338a526005808752878b20828c52875288888c2054166200025a57338b528652868a20908a52855285892080546001600160a01b03191689179055600101620001c0565b338b528652868a20818b528652868a205487516361a2116b60e11b815290891681860152602481018a90526044810191909152606490fd5b845163b74066bb60e01b8152808301889052602490fd5b620002ca9192503d8089833e620002c1818362000e02565b81019062000f33565b9087620001b3565b84513d89823e3d90fd5b60249083519063963e961b60e01b82523390820152fd5b8580fd5b8380fd5b8280fd5b50346200014757602036600319011262000147576020916001600160a01b03908290826200032c62000d30565b168152600685522054169051908152f35b508234620002fb576060366003190112620002fb578160209360ff926200036362000d30565b6200036d62000d4c565b6200037762000d63565b6001600160a01b0392831685529288528484209082168452875283832091168252855220549151911615158152f35b508234620002fb576060366003190112620002fb57620003c562000d30565b91620003d062000d4c565b90604435801515809103620002f357338652600660209081528287205490946001600160a01b03918216156200046d57907f4f2bd80fb4928b06abcd76e3b26209a615f0612f98dc4a8b176934b1a3899333939291338952865280838920971696878952865280838920951694858952865282882060ff1981541660ff84161790553388526006865282882054169482519485528401523392a480f35b60249084519063963e961b60e01b82523390820152fd5b509034620004fa5780600319360112620004fa573381526006602052819020546001600160a01b039081169283620004cd5760208383620004c53362000ff5565b915191168152f35b91516356352f0b60e11b8152339281019283526001600160a01b0390931660208301525081906040010390fd5b80fd5b508234620002fb576020366003190112620002fb5781906200051e62000d30565b6001600160a01b038082168652600660205292909420548216806200054c575050620004c560209362000ff5565b92516356352f0b60e11b81526001600160a01b039485169181019182529390921660208301525081906040010390fd5b5034620001475781600319360112620001475760018060a01b0391828154169160019384541693815192809160025491620005b78362000d92565b8087529282811690811562000652575060011462000603575b5050508291620005e96200013094606093038462000e02565b805195869586526020860152840152606083019062000e25565b92506002835260008051602062001caf8339815191525b8284106200063957505050820160200181620005e962000130620005d0565b805460208588018101919091529093019281016200061a565b60ff191660208089019190915293151560051b87019093019350849250620005e99150620001309050620005d0565b5034620001475780600319360112620001475760209181620006a262000d30565b91620006ad62000d7a565b6001600160a01b039384168252600586528282206001600160e01b0319909116825285522054915191168152f35b509034620004fa576060366003190112620004fa57620006fa62000d30565b6200070462000d4c565b906200070f62000d63565b91845195638da5cb5b60e01b87526020968781838160018060a01b038098165afa908115620007a45791848896949288969460ff999162000770575b5016855288528185852091168452875283832091168252855220541690519015158152f35b6200079591508b3d8d116200079c575b6200078c818362000e02565b81019062000e67565b386200074b565b503d62000780565b87513d88823e3d90fd5b508234620002fb5760209182600319360112620002f7576001600160a01b03823581811694919390859003620002f3573386526006825283838720541615620002dc57825163ecdb286560e01b815286818381838a5af1908115620002d2578791620008b9575b508051918215620008a25750865b82811062000861575050506006903386525283205416337f381d2d67cec77a56c13de6658effae4585e49ae536458929d53bfd4c3599e0ad8480a480f35b33885260058452848820600191906001600160e01b031962000884838662000fca565b51168a52855285892080546001600160a01b03191690550162000823565b845163b74066bb60e01b8152908101879052602490fd5b620008d091503d8089833e620002c1818362000e02565b8762000815565b503462000147576020366003190112620001475760209181906001600160a01b036200090262000d30565b1681526003845220549051908152f35b509034620004fa5781600319360112620004fa576200093062000d30565b906200093b62000d7a565b8351638da5cb5b60e01b81526020956001600160a01b039487918391829088165afa908115620009ba57839291859187959162000998575b50168252600586528282206001600160e01b0319909116825285522054915191168152f35b620009b39150883d8a116200079c576200078c818362000e02565b3862000973565b85513d85823e3d90fd5b84838534620004fa5781600319360112620004fa57620009e362000d30565b9267ffffffffffffffff918260243511620004fa57366023602435011215620004fa5760243582013591838311620001475736602484813501011162000147573382526006602052848220546001600160a01b03979088168062000d0757505032808352600360209081528684205487519182019283526040808301829052825295919062000a7460608262000e02565b519020938887519862000a878a62000dcf565b338a5216602089015283602088519262000aab82601f19601f840116018562000e02565b8084528060248035018386013783010152808789015262000b00896020818b51169a6001600160601b0360a01b9b8c89541617885501511660018060a01b03166001600160601b0360a01b6001541617600155565b80519082821162000cf457819062000b1a60025462000d92565b601f811162000ca7575b50602090601f831160011462000c3057869262000c24575b50508160011b916000199060031b1c1916176002555b8551916109f190818401928484109084111762000c1157509180918593620012be8339039083f595861562000c0557602096169462000b9062000ea1565b33808352600688528583208054929092168717909155328083526003885291859020600185019055845193845260208401929092526001600160a01b038516604084015290918291907f6aafca263a35a9d2a6e4e4659a84688092f4ae153df2f95cd7659508d95c187090606090a451908152f35b508351903d90823e3d90fd5b634e487b7160e01b855260419052602484fd5b015190508a8062000b3c565b6002875260008051602062001caf8339815191529250601f198416875b81811062000c8e575090846001959493921062000c74575b505050811b0160025562000b52565b015160001960f88460031b161c191690558a808062000c65565b9293602060018192878601518155019501930162000c4d565b62000ce2906002885260008051602062001caf833981519152601f850160051c8101916020861062000ce9575b601f0160051c019062000e88565b8b62000b24565b909150819062000cd4565b634e487b7160e01b855260418452602485fd5b6356352f0b60e11b8252339282019283526001600160a01b031660208301529081906040010390fd5b600435906001600160a01b038216820362000d4757565b600080fd5b602435906001600160a01b038216820362000d4757565b604435906001600160a01b038216820362000d4757565b602435906001600160e01b03198216820362000d4757565b90600182811c9216801562000dc4575b602083101462000dae57565b634e487b7160e01b600052602260045260246000fd5b91607f169162000da2565b6060810190811067ffffffffffffffff82111762000dec57604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff82111762000dec57604052565b919082519283825260005b84811062000e52575050826000602080949584010152601f8019910116010190565b60208183018101518483018201520162000e30565b9081602091031262000d4757516001600160a01b038116810362000d475790565b81811062000e94575050565b6000815560010162000e88565b6000808055600181815562000eb860025462000d92565b908162000ec457505050565b601f821160011462000ed7575050600255565b60028352601f60008051602062001caf833981519152920160051c82017f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acf5b81811062000f28575050508160025555565b848155820162000f16565b90602090818382031262000d4757825167ffffffffffffffff9384821162000d47570181601f8201121562000d4757805193841162000dec578360051b906040519462000f838584018762000e02565b8552838086019282010192831162000d47578301905b82821062000fa8575050505090565b81516001600160e01b03198116810362000d4757815290830190830162000f99565b805182101562000fdf5760209160051b010190565b634e487b7160e01b600052603260045260246000fd5b326000818152600360209081526040808320548151808401958652808301829052828152601f1997969593949193906200103160608262000e02565b51902093825195620010438762000dcf565b6001600160a01b039081168088528288018481528551909a919867ffffffffffffffff929082860184811184821017620012a95785620010be9281928b52898652858b82015251169d6001600160601b0360a01b9e8f8a5416178955511660018060a01b03166001600160601b0360a01b6001541617600155565b8151918383116200129557908291620010d960025462000d92565b601f811162001255575b508691601f8411600114620011e357508792620011d7575b50508160011b916000199060031b1c1916176002555b8451906109f180830191821183831017620011c3579180918993620012be8339039085f58015620011b95716977f6aafca263a35a9d2a6e4e4659a84688092f4ae153df2f95cd7659508d95c18709392916003916200116f62000ea1565b888452600682528484208054919091168b1790553280845291905290829020600185019055905192835260208301939093526001600160a01b0386166040830152339291606090a4565b84513d85823e3d90fd5b634e487b7160e01b86526041600452602486fd5b015190503880620010fb565b6002895260008051602062001caf8339815191529316885b888282106200123e57505090846001959493921062001224575b505050811b0160025562001111565b015160001960f88460031b161c1916905538808062001215565b6001859682939686015181550195019301620011fb565b6200128e9060028a5260008051602062001caf833981519152601f860160051c8101918a871062000ce957601f0160051c019062000e88565b38620010e3565b634e487b7160e01b87526041600452602487fd5b634e487b7160e01b88526041600452602488fdfe60c08060405234620000ca573360a0526366b0182d60e01b8152600081600481335afa8015620000c4576000809281926200009b575b506080526001600160a01b03821662000087575b60405161068e9081620003638239608051818181610192015281816102c401526104a5015260a05181818161014d0152818161031301526105250152f35b6200009291620002b2565b50388062000049565b909150620000bb92503d8092823e620000b482620000e5565b016200018e565b90913862000035565b62000221565b600080fd5b634e487b7160e01b600052604160045260246000fd5b60c0601f91909101601f19168101906001600160401b038211908210176200010c57604052565b620000cf565b601f909101601f19168101906001600160401b038211908210176200010c57604052565b60e051906001600160a01b0382168203620000ca57565b6001600160401b0381116200010c57601f01601f191660200190565b60005b8381106200017d5750506000910152565b81810151838201526020016200016c565b606060bf19820112620000ca5760c0516001600160a01b0381168103620000ca5791620001ba62000136565b610100519092906001600160401b038111620000ca578160df82011215620000ca578060c00151620001ec816200014d565b92620001fc604051948562000112565b81845260e08284010111620000ca576200021e9160e060208501910162000169565b90565b6040513d6000823e3d90fd5b3d156200025d573d9062000241826200014d565b9162000251604051938462000112565b82523d6000602084013e565b606090565b906020916200027d8151809281855285808601910162000169565b601f01601f1916010190565b9091620002a36200021e9360408452604084019062000262565b91602081840391015262000262565b9190823b156200034157600080825160208401865af4907fb24ebe141c5f2a744b103bea65fce6c40e0dc65d7341d092c09b160f40447990620002f46200022d565b60405190956001600160a01b0316928190620003139088908362000289565b0390a2156200031e57565b508051156200032f57602081519101fd5b60405163061a160d60e41b8152600490fd5b604051636d17e5ef60e11b81526001600160a01b0384166004820152602490fdfe60806040526004361015610027575b36156100255761001d366102b5565b602081519101f35b005b6000803560e01c9081631cff79cd1461005a575080637b1039991461005557638da5cb5b0361000e5761017c565b610137565b60403660031901126100ca57600435610072816100cd565b60243567ffffffffffffffff928382116100ca57366023830112156100ca5781600401359384116100ca5736602485840101116100ca576100c66100ba8560248501866104a2565b60405191829182610123565b0390f35b80fd5b6001600160a01b038116036100de57565b600080fd5b919082519283825260005b84811061010f575050826000602080949584010152601f8019910116010190565b6020818301810151848301820152016100ee565b9060206101349281815201906100e3565b90565b346100de5760003660031901126100de576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346100de5760003660031901126100de576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff8211176101f957604052565b6101c1565b908160209103126100de5751610134816100cd565b6040513d6000823e3d90fd5b908160008237016000815290565b67ffffffffffffffff81116101f957601f01601f191660200190565b3d15610274573d9061025a8261022d565b9161026860405193846101d7565b82523d6000602084013e565b606090565b606090610134939260408252806040830152806000848401376000838284010152601f80199101168101906020838284030191015201906100e3565b6040516361be485960e01b81527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0381811660048401526001600160e01b03196000351660248401819052939493906020846044817f000000000000000000000000000000000000000000000000000000000000000085165afa93841561044e5760009461041e575b5083169182156103e357505060008060405180610362818961021f565b0390845af4907fc4dabe0d7ef7462e2218f2c398c21ef217803e1c46f5cf802d1a5d1d9b503f2f610391610249565b80966103a260405192839283610279565b0390a2156103ad5750565b8251909150156103c05750805190602001fd5b60405163023c045d60e21b81526001600160a01b03919091166004820152602490fd5b604051638848730f60e01b81523360048201526001600160a01b039190911660248201526001600160e01b0319919091166044820152606490fd5b61044091945060203d8111610447575b61043881836101d7565b8101906101fe565b9238610345565b503d61042e565b610213565b908160209103126100de575180151581036100de5790565b9291926104778261022d565b9161048560405193846101d7565b8294818452818301116100de578281602093846000960137010152565b917f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0333818316036104ee575b505061013492916104e891369161046b565b906105e5565b60405163b31d1b9960e01b81526001600160a01b0383811660048301523360248301528616604482015290602090829060649082907f0000000000000000000000000000000000000000000000000000000000000000165afa90811561044e57600091610592575b501561056257806104d6565b6040516355d1750960e01b81526001600160a01b0391821660048201523360248201529084166044820152606490fd5b6105b3915060203d81116105b9575b6105ab81836101d7565b810190610453565b38610556565b503d6105a1565b90916105d7610134936040845260408401906100e3565b9160208184039101526100e3565b9190823b1561066d57600080825160208401865af4907fb24ebe141c5f2a744b103bea65fce6c40e0dc65d7341d092c09b160f40447990610624610249565b60405190956001600160a01b0316928190610641908890836105c0565b0390a21561064b57565b5080511561065b57602081519101fd5b60405163061a160d60e41b8152600490fd5b604051636d17e5ef60e11b81526001600160a01b0384166004820152602490fd405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace";

    /*//////////////////////////////////////////////////////////////////////////
                                     DEPLOYERS
    //////////////////////////////////////////////////////////////////////////*/

    /// @notice Deploys {PRBProxyRegistry} from precompiled bytecode.
    function deployRegistry() public returns (IPRBProxyRegistry registry) {
        bytes memory bytecode = BYTECODE_REGISTRY;
        assembly {
            registry := create(0, add(bytecode, 0x20), mload(bytecode))
        }
        require(address(registry) != address(0), "PRBProxy Precompiles: deployment failed for Registry contract");
    }
}
