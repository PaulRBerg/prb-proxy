// SPDX-License-Identifier: MIT
// solhint-disable max-line-length
pragma solidity >=0.8.18;

import { IPRBProxyRegistry } from "../../src/interfaces/IPRBProxyRegistry.sol";

/// @notice This is useful for external integrations seeking to test against the exact deployed bytecode, as recompiling
/// with via IR enabled would be time-consuming.
contract Precompiles {
    /*//////////////////////////////////////////////////////////////////////////
                                     BYTECODES
    //////////////////////////////////////////////////////////////////////////*/

    bytes public constant BYTECODE_REGISTRY =
        hex"608080604052346100165761256f908161001c8239f35b600080fdfe60806040818152600491823610156200001757600080fd5b60009260e08435811c928363092af8131462000f9a575082631ddef5b91462000ee75782634bddd93a1462000b975782635cabcdf71462000ad057826361be48591462000a745782636383afb214620008d657826366b0182d14620007d857826374912cd2146200074b578263775c300c14620006cc5782639d1bd1591462000608578263aa4b826a1462000525578263b31d1b9914620004bb578263b7fba4d3146200047b578263b96784031462000417578263fa557e9314620001e857508163fb4a4d081462000145575063ffa1ad7414620000f457600080fd5b34620001415781600319360112620001415780516200013d916200011882620011a6565b60058252641a1718171960d91b602083015251918291602083526020830190620011e4565b0390f35b5080fd5b905034620001e4576020366003190112620001e4576200016462001041565b33845260066020528284205490926001600160a01b0392909183169081620001b8575050620001b1620001aa602095835190620001a1826200118a565b81523362001310565b9362001789565b5191168152f35b825163bf0b215b60e01b8152339181019182526001600160a01b03909216602082015281906040010390fd5b8280fd5b84843462000141578060031936011262000141576200020662001041565b92620002116200105d565b60018060a01b03809516845260209460038652838520911684528452818320908251809486845492838152019381528681205b826007830110620003a857928792620002b495926200013d99899654938383106200038a575b508282106200036b575b8282106200034c575b8282106200032d575b8282106200030e575b828210620002f1575b828210620002d4575b5010620002bf575b5090500383620011c2565b5191829182620010d3565b6001600160e01b0319168152018087620002a9565b83811b6001600160e01b03191685529093019260010184620002a1565b83891b6001600160e01b0319168552909301926001018462000298565b606084901b6001600160e01b031916855290930192600101846200028f565b608084901b6001600160e01b0319168552909301926001018462000286565b60a084901b6001600160e01b031916855290930192600101846200027d565b60c084901b6001600160e01b0319168552909301926001018462000274565b84901b6001600160e01b031916855290930192600101848b6200026a565b80546001600160e01b031981861b8116875260c082811b82168b89015260a083811b83168a8a0152608084811b84166060808c019190915285901b8416908a0152838a1b831690890152828b1b8216908801521685850152610100909401936008919091019060010162000244565b50905034620001e4576020366003190112620001e4576200043762001041565b3384526006602052828420549092906001600160a01b031615620004645783620004618462001789565b80f35b6024925051906333685ad760e01b82523390820152fd5b505050346200014157602036600319011262000141576020916001600160a01b0390829082620004aa62001041565b168152600685522054169051908152f35b50905034620001e4576060366003190112620001e4578160209360ff92620004e262001041565b620004ec6200105d565b620004f662001074565b6001600160a01b0392831685529288528484209082168452875283832091168252855220549151911615158152f35b50905034620001e4576060366003190112620001e4576200054562001041565b91620005506200105d565b906044358015158091036200060457338652600660209081528287205490946001600160a01b0391821615620005ed57907f4f2bd80fb4928b06abcd76e3b26209a615f0612f98dc4a8b176934b1a3899333939291338952865280838920971696878952865280838920951694858952865282882060ff1981541660ff84161790553388526006865282882054169482519485528401523392a480f35b6024908451906333685ad760e01b82523390820152fd5b8580fd5b508383346200014157606036600319011262000141576200062862001041565b926024356001600160401b038111620006c857906200064c8392369083016200108b565b90916200065862001074565b3387526006602052949095205493946001600160a01b0394851690816200069c57505060209562000694620001b193620001aa93369162001226565b9033620015eb565b845163bf0b215b60e01b8152339181019182526001600160a01b03909216602082015281906040010390fd5b8380fd5b50905034620001e45782600319360112620001e4573383526006602052818320546001600160a01b039190821690816200071f57505062000717602093835190620001a1826200118a565b915191168152f35b835163bf0b215b60e01b8152339181019182526001600160a01b03909216602082015281906040010390fd5b50905034620001e4576020366003190112620001e4576200076b62001041565b9260018060a01b03918285168252600660205282848320541680620007a957505082516020946200071792620007a1836200118a565b825262001310565b845163bf0b215b60e01b81526001600160a01b0380881693820193845290911660208301529081906040010390fd5b50505034620001415781600319360112620001415760018060a01b039081835416906001926001541690805191859460025462000815816200111b565b918286526020988260018b94169081600014620008b3575060011462000868575b5050856200013d866060878762000850848e0385620011c2565b815196879687528601528401526060830190620011e4565b92919750600283526000805160206200254f8339815191525b8284106200089f575050508301909401938086846200013d62000836565b80548785018a015292880192810162000881565b60ff19168489015250505090151560051b84010194508086846200013d62000836565b83859134620001e45781600319360112620001e457620008f562001041565b620008ff6200105d565b8351638da5cb5b60e01b815260209691926001600160a01b03928891839190829086165afa90811562000a6a57908291879162000a36575b5016855260038652838520911684528452818320908251809486845492838152019381528681205b826007830110620009c757928792620002b495926200013d99899654938383106200038a57508282106200036b578282106200034c578282106200032d578282106200030e57828210620002f157828210620002d4575010620002bf575090500383620011c2565b80546001600160e01b031981861b8116875260c082811b82168b89015260a083811b83168a8a0152608084811b84166060808c019190915285901b8416908a0152838a1b831690890152828b1b821690880152168585015261010090940193600891909101906001016200095f565b62000a5b9150883d8a1162000a62575b62000a528183620011c2565b81019062001270565b8862000937565b503d62000a46565b85513d88823e3d90fd5b5050503462000141578060031936011262000141576020918162000a9762001041565b9162000aa2620010bb565b6001600160a01b039384168252600586528282206001600160e01b0319909116825285522054915191168152f35b5082843462000b9457606036600319011262000b945762000af062001041565b62000afa6200105d565b9062000b0562001074565b9160018060a01b03958692865190638da5cb5b60e01b825281838160209b8c94165afa90811562000b8a5791848896949288969460ff999162000b68575b5016855288528185852091168452875283832091168252855220541690519015158152f35b62000b8391508b3d8d1162000a625762000a528183620011c2565b8b62000b43565b87513d88823e3d90fd5b80fd5b9092915034620006c8576020928360031936011262000ee35762000bba62001041565b338652600685528386205490946001600160a01b0392909183161562000ecc57338752600382528285882096169586885282528487209385519083829687928282549586815201918c52828c20948c5b8b82600783011062000e5157508462000c7297549383831062000e33575b5082821062000e14575b82821062000df5575b82821062000dd6575b82821062000db7575b82821062000d9a575b82821062000d7d575b501062000d67575b5090500385620011c2565b835190811562000d505750865b81811062000d0f5750509060067f0971095f3fa0f917fd0ad98319d7cdb8e837d8c98d5e47fb2700e8b68ac961c99233885260038152858820878952815285882080548982558062000ced575b505033885252838620541692518062000ce7339482620010d3565b0390a480f35b62000d07918a526007838b20910160031c810190620012f7565b388062000ccc565b33885260058352858820600191906001600160e01b031962000d32838962001291565b51168a52845286892080546001600160a01b03191690550162000c7f565b85516338d4b05760e01b8152908101879052602490fd5b6001600160e01b03191681528591013862000c67565b83811b6001600160e01b0319168552909301926001018462000c5f565b838d1b6001600160e01b0319168552909301926001018462000c56565b606084901b6001600160e01b0319168552909301926001018462000c4d565b608084901b6001600160e01b0319168552909301926001018462000c44565b60a084901b6001600160e01b0319168552909301926001018462000c3b565b60c084901b6001600160e01b0319168552909301926001018462000c32565b84901b6001600160e01b031916855290930192600101843862000c28565b836008949750600193966101009396928a549283809363ffffffff60e01b809681941b16875260c0938383861b1682890152838360a0928282851b16818c01528a83836060608093818484871b169101521b16908c01521b16908801521b169084015216878201520195019101928692899495929562000c0a565b6024908551906333685ad760e01b82523390820152fd5b8480fd5b5082843462000b94578160031936011262000b945762000f0662001041565b9062000f11620010bb565b8351638da5cb5b60e01b81526020956001600160a01b039487918391829088165afa90811562000f9057839291859187959162000f6e575b50168252600586528282206001600160e01b0319909116825285522054915191168152f35b62000f899150883d8a1162000a625762000a528183620011c2565b8862000f49565b85513d85823e3d90fd5b8285873462000b94578160031936011262000b945762000fb962001041565b92602435946001600160401b038611620001e45762000fde849596369084016200108b565b338552600660205294909320546001600160a01b0394929085169081620010175750505093620006946200071792602096369162001226565b63bf0b215b60e01b8352339083019081526001600160a01b03909116602082015281906040010390fd5b600435906001600160a01b03821682036200105857565b600080fd5b602435906001600160a01b03821682036200105857565b604435906001600160a01b03821682036200105857565b9181601f8401121562001058578235916001600160401b0383116200105857602083818601950101116200105857565b602435906001600160e01b0319821682036200105857565b602090602060408183019282815285518094520193019160005b828110620010fc575050505090565b83516001600160e01b03191685529381019392810192600101620010ed565b90600182811c921680156200114d575b60208310146200113757565b634e487b7160e01b600052602260045260246000fd5b91607f16916200112b565b606081019081106001600160401b038211176200117457604052565b634e487b7160e01b600052604160045260246000fd5b602081019081106001600160401b038211176200117457604052565b604081019081106001600160401b038211176200117457604052565b90601f801991011681019081106001600160401b038211176200117457604052565b919082519283825260005b84811062001211575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201620011ef565b9291926001600160401b03821162001174576040519162001252601f8201601f191660200184620011c2565b82948184528183011162001058578281602093846000960137010152565b908160209103126200105857516001600160a01b0381168103620010585790565b8051821015620012a65760209160051b010190565b634e487b7160e01b600052603260045260246000fd5b7f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acf5b818110620012ea575050565b60008155600101620012de565b81811062001303575050565b60008155600101620012f7565b91909160405160208101906001600160601b03198360601b168252601481526200133a81620011a6565b5190519060208110620015d8575b508360408051620013598162001158565b60018060a01b038516815260006020820152015260018060a01b0382166001600160601b0360a01b60005416176000556001600160601b0360a01b6001541660015583516001600160401b0381116200117457620013b96002546200111b565b94601f958681116200158d575b506020908683116001146200150f57620013fa92916000918362001503575b50508160011b916000199060031b1c19161790565b6002555b6040516109f68082018281106001600160401b038211176200117457829162001b59833903906000f58015620014f75760018060a01b0316926000805560006001556200144d6002546200111b565b80620014ad575b50506001600160a01b031660008181526006602090815260409182902080546001600160a01b03191686179055905184815233917f2d8895d948115783fa362a57339c4c179365fafeafdd7dca66364ae296f50b7591a3565b818111600114620014c857505060006002555b388062001454565b620014ec6000926000805160206200254f833981519152920160051c8201620012bc565b8160025555620014c0565b6040513d6000823e3d90fd5b015190503880620013e5565b919060026000526000805160206200254f833981519152906000935b601f198416851062001571576001945083601f1981161062001557575b505050811b01600255620013fe565b015160001960f88460031b161c1916905538808062001548565b818101518355602094850194600190930192909101906200152b565b620015c79060026000526000805160206200254f8339815191528880860160051c82019260208710620015ce575b0160051c0190620012f7565b38620013c6565b92508192620015bb565b6000199060200360031b1b163862001348565b9092919260405160208101906001600160601b03198460601b168252601481526200161681620011a6565b519051906020811062001776575b5090846040805192620016378462001158565b6001600160a01b038681168086529116602085018190529190930191909152600080546001600160a01b031990811690931790556001805490921617905583516001600160401b0381116200117457620016936002546200111b565b94601f9586811162001736575b50602090868311600114620016d357620013fa929160009183620015035750508160011b916000199060031b1c19161790565b919060026000526000805160206200254f833981519152906000935b601f19841685106200171a576001945083601f198116106200155757505050811b01600255620013fe565b81810151835560209485019460019093019290910190620016ef565b6200176f9060026000526000805160206200254f8339815191528880860160051c82019260208710620015ce570160051c0190620012f7565b38620016a0565b6000199060200360031b1b163862001624565b60408051631abad16560e21b81526001600160a01b0392831692600490600080848481838a5af193841562001b4c57819462001a7e575b508351801562001a6757815b818110620019d2575050338152602092600384528582208783528452858220908551906001600160401b038211620019bf57680100000000000000008211620019bf575081548183558082106200196c575b50908692918587019183528583208160031c91845b8381106200190f575060071981169003806200188e575b5050505060067f71b3c95c0b8611d2f0f9c4e492ebbcf20d034943bccac6ef1a71ae90e0f243fa943383525220541692518062001889339482620010d3565b0390a4565b928493855b818110620018cb57505050015560067f71b3c95c0b8611d2f0f9c4e492ebbcf20d034943bccac6ef1a71ae90e0f243fa38806200184a565b91959798809750620018fc600192949596885160e01c908560021b60031b9163ffffffff809116831b921b19161790565b96019101918a9698979594939262001893565b9091929394809650865b896008821062001939575050838201558995949392919060010162001833565b620019628893600193995160e01c908a60021b60031b9163ffffffff809116831b921b19161790565b9201960162001919565b6200199d90838552868520600780850160031c820192601c8660021b1680620019a4575b500160031c0190620012f7565b386200181e565b60001990818601918254918d0360031b1c1690553862001990565b634e487b7160e01b845260419052602483fd5b6001600160e01b0319620019e7828862001291565b511633845260056020908082528986208387528252868a8720541662001a2f5733865281528885209185525286832080546001600160a01b03191689179055600101620017cc565b338652815288852082865290528784205488516361a2116b60e11b815290861681880152602481018a90526044810191909152606490fd5b85516362d3093d60e11b8152808501889052602490fd5b9093503d8085833e62001a928183620011c2565b81016020908183820312620006045782516001600160401b039384821162001b31570181601f8201121562001b4857805193841162001b35578360051b9088519462001ae185840187620011c2565b8552838086019282010192831162001b31578301905b82821062001b0b57505050509238620017c0565b81516001600160e01b03198116810362001b2d57815290830190830162001af7565b8880fd5b8780fd5b634e487b7160e01b875260418652602487fd5b8680fd5b508451903d90823e3d90fdfe60c08060405234620000cd573360a0526366b0182d60e01b8152600081600481335afa8015620000c757600080926000926200009c575b506080526001600160a01b03821662000088575b6040516106909081620003668239608051818181610192015281816102780152610437015260a05181818161014d015281816102f801526104860152f35b6200009391620002b5565b5038806200004a565b915050620000be91503d90816000823e620000b782620000e8565b0162000191565b90913862000036565b62000224565b600080fd5b634e487b7160e01b600052604160045260246000fd5b60c0601f91909101601f19168101906001600160401b038211908210176200010f57604052565b620000d2565b601f909101601f19168101906001600160401b038211908210176200010f57604052565b60e051906001600160a01b0382168203620000cd57565b6001600160401b0381116200010f57601f01601f191660200190565b60005b838110620001805750506000910152565b81810151838201526020016200016f565b606060bf19820112620000cd5760c0516001600160a01b0381168103620000cd5791620001bd62000139565b610100519092906001600160401b038111620000cd578160df82011215620000cd578060c00151620001ef8162000150565b92620001ff604051948562000115565b81845260e08284010111620000cd57620002219160e06020850191016200016c565b90565b6040513d6000823e3d90fd5b3d1562000260573d90620002448262000150565b9162000254604051938462000115565b82523d6000602084013e565b606090565b9060209162000280815180928185528580860191016200016c565b601f01601f1916010190565b9091620002a6620002219360408452604084019062000265565b91602081840391015262000265565b9190823b156200034457600080825160208401865af4907fb24ebe141c5f2a744b103bea65fce6c40e0dc65d7341d092c09b160f40447990620002f762000230565b60405190956001600160a01b031692819062000316908890836200028c565b0390a2156200032157565b508051156200033257602081519101fd5b60405163061a160d60e41b8152600490fd5b604051636d17e5ef60e11b81526001600160a01b0384166004820152602490fdfe60806040526004361015610027575b36156100255761001d36610428565b602081519101f35b005b6000803560e01c9081631cff79cd1461005a575080637b1039991461005557638da5cb5b0361000e5761017c565b610137565b60403660031901126100ca57600435610072816100cd565b60243567ffffffffffffffff928382116100ca57366023830112156100ca5781600401359384116100ca5736602485840101116100ca576100c66100ba856024850186610275565b60405191829182610123565b0390f35b80fd5b6001600160a01b038116036100de57565b600080fd5b919082519283825260005b84811061010f575050826000602080949584010152601f8019910116010190565b6020818301810151848301820152016100ee565b9060206101349281815201906100e3565b90565b346100de5760003660031901126100de576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346100de5760003660031901126100de576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff8211176101f957604052565b6101c1565b908160209103126100de575180151581036100de5790565b6040513d6000823e3d90fd5b67ffffffffffffffff81116101f957601f01601f191660200190565b92919261024a82610222565b9161025860405193846101d7565b8294818452818301116100de578281602093846000960137010152565b917f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0333818316036102c1575b505061013492916102bb91369161023e565b906105e7565b60405163b31d1b9960e01b81526001600160a01b0383811660048301523360248301528616604482015290602090829060649082907f0000000000000000000000000000000000000000000000000000000000000000165afa90811561039457600091610365575b501561033557806102a9565b6040516355d1750960e01b81526001600160a01b0391821660048201523360248201529084166044820152606490fd5b610387915060203d60201161038d575b61037f81836101d7565b8101906101fe565b38610329565b503d610375565b610216565b908160209103126100de5751610134816100cd565b908160008237016000815290565b3d156103e7573d906103cd82610222565b916103db60405193846101d7565b82523d6000602084013e565b606090565b606090610134939260408252806040830152806000848401376000838284010152601f80199101168101906020838284030191015201906100e3565b6040516361be485960e01b81527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0381811660048401526000356001600160e01b03191660248401819052939493906020846044817f000000000000000000000000000000000000000000000000000000000000000085165afa93841561039457600094610591575b508316918215610556575050600080604051806104d581896103ae565b0390845af4907fc4dabe0d7ef7462e2218f2c398c21ef217803e1c46f5cf802d1a5d1d9b503f2f6105046103bc565b8096610515604051928392836103ec565b0390a2156105205750565b8251909150156105335750805190602001fd5b60405163023c045d60e21b81526001600160a01b03919091166004820152602490fd5b604051638848730f60e01b81523360048201526001600160a01b039190911660248201526001600160e01b0319919091166044820152606490fd5b6105b491945060203d6020116105bb575b6105ac81836101d7565b810190610399565b92386104b8565b503d6105a2565b90916105d9610134936040845260408401906100e3565b9160208184039101526100e3565b9190823b1561066f57600080825160208401865af4907fb24ebe141c5f2a744b103bea65fce6c40e0dc65d7341d092c09b160f404479906106266103bc565b60405190956001600160a01b0316928190610643908890836105c2565b0390a21561064d57565b5080511561065d57602081519101fd5b60405163061a160d60e41b8152600490fd5b604051636d17e5ef60e11b81526001600160a01b0384166004820152602490fd405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace";

    /*//////////////////////////////////////////////////////////////////////////
                                     DEPLOYERS
    //////////////////////////////////////////////////////////////////////////*/

    /// @notice Deploys {PRBProxyRegistry} from precompiled bytecode.
    function deployRegistry() public returns (IPRBProxyRegistry registry) {
        bytes memory bytecode = BYTECODE_REGISTRY;
        assembly {
            registry := create(0, add(bytecode, 0x20), mload(bytecode))
        }
        require(address(registry) != address(0), "PRBProxy Precompiles: deployment failed for Registry contract");
    }
}
