// SPDX-License-Identifier: MIT
// solhint-disable max-line-length
pragma solidity >=0.8.18;

import { IPRBProxyRegistry } from "../interfaces/IPRBProxyRegistry.sol";

/// @notice This is useful for external integrations seeking to test against the exact deployed bytecode, as recompiling
/// with via IR enabled would be time-consuming.
contract Precompiles {
    /*//////////////////////////////////////////////////////////////////////////
                                     BYTECODES
    //////////////////////////////////////////////////////////////////////////*/

    bytes public constant BYTECODE_REGISTRY =
        hex"6080806040523461001657612599908161001c8239f35b600080fdfe60806040818152600491823610156200001757600080fd5b60009260e08435811c928363092af8131462000fa2575082631ddef5b91462000eef5782634bddd93a1462000b9f5782635cabcdf71462000ada57826361be48591462000a7e5782636383afb214620008e057826366b0182d14620007d957826374912cd2146200074c578263775c300c14620006cd5782639d1bd1591462000608578263aa4b826a1462000525578263b31d1b9914620004bb578263b7fba4d3146200047b578263b96784031462000417578263fa557e9314620001e857508163fb4a4d081462000145575063ffa1ad7414620000f457600080fd5b34620001415781600319360112620001415780516200013d916200011882620011b1565b6005825264342e302e3160d81b602083015251918291602083526020830190620011f1565b0390f35b5080fd5b905034620001e4576020366003190112620001e457620001646200104a565b33845260066020528284205490926001600160a01b0392909183169081620001b8575050620001b1620001aa602095835190620001a18262001194565b8152336200131e565b93620017b6565b5191168152f35b825163bf0b215b60e01b8152339181019182526001600160a01b03909216602082015281906040010390fd5b8280fd5b8484346200014157806003193601126200014157620002066200104a565b926200021162001066565b60018060a01b03809516845260209460038652838520911684528452818320908251809486845492838152019381528681205b826007830110620003a857928792620002b495926200013d99899654938383106200038a575b508282106200036b575b8282106200034c575b8282106200032d575b8282106200030e575b828210620002f1575b828210620002d4575b5010620002bf575b5090500383620011ce565b5191829182620010dd565b6001600160e01b0319168152018087620002a9565b83811b6001600160e01b03191685529093019260010184620002a1565b83891b6001600160e01b0319168552909301926001018462000298565b606084901b6001600160e01b031916855290930192600101846200028f565b608084901b6001600160e01b0319168552909301926001018462000286565b60a084901b6001600160e01b031916855290930192600101846200027d565b60c084901b6001600160e01b0319168552909301926001018462000274565b84901b6001600160e01b031916855290930192600101848b6200026a565b80546001600160e01b031981861b8116875260c082811b82168b89015260a083811b83168a8a0152608084811b84166060808c019190915285901b8416908a0152838a1b831690890152828b1b8216908801521685850152610100909401936008919091019060010162000244565b50905034620001e4576020366003190112620001e457620004376200104a565b3384526006602052828420549092906001600160a01b0316156200046457836200046184620017b6565b80f35b6024925051906333685ad760e01b82523390820152fd5b505050346200014157602036600319011262000141576020916001600160a01b0390829082620004aa6200104a565b168152600685522054169051908152f35b50905034620001e4576060366003190112620001e4578160209360ff92620004e26200104a565b620004ec62001066565b620004f66200107d565b6001600160a01b0392831685529288528484209082168452875283832091168252855220549151911615158152f35b50905034620001e4576060366003190112620001e457620005456200104a565b916200055062001066565b906044358015158091036200060457338652600660209081528287205490946001600160a01b0391821615620005ed57907f4f2bd80fb4928b06abcd76e3b26209a615f0612f98dc4a8b176934b1a3899333939291338952865280838920971696878952865280838920951694858952865282882060ff1981541660ff84161790553388526006865282882054169482519485528401523392a480f35b6024908451906333685ad760e01b82523390820152fd5b8580fd5b50838334620001415760603660031901126200014157620006286200104a565b9260243567ffffffffffffffff8111620006c957906200064d83923690830162001094565b9091620006596200107d565b3387526006602052949095205493946001600160a01b0394851690816200069d57505060209562000695620001b193620001aa93369162001254565b9033620015c2565b845163bf0b215b60e01b8152339181019182526001600160a01b03909216602082015281906040010390fd5b8380fd5b50905034620001e45782600319360112620001e4573383526006602052818320546001600160a01b039190821690816200072057505062000718602093835190620001a18262001194565b915191168152f35b835163bf0b215b60e01b8152339181019182526001600160a01b03909216602082015281906040010390fd5b50905034620001e4576020366003190112620001e4576200076c6200104a565b9260018060a01b03918285168252600660205282848320541680620007aa57505082516020946200071892620007a28362001194565b82526200131e565b845163bf0b215b60e01b81526001600160a01b0380881693820193845290911660208301529081906040010390fd5b50505034620001415781600319360112620001415760018060a01b0391828154169160019384541693815192809160025491620008168362001124565b80875292828116908115620008b1575060011462000862575b5050508291620008486200013d946060930384620011ce565b8051958695865260208601528401526060830190620011f1565b925060028352600080516020620025798339815191525b8284106200089857505050820160200181620008486200013d6200082f565b8054602085880181019190915290930192810162000879565b60ff191660208089019190915293151560051b870190930193508492506200084891506200013d90506200082f565b83859134620001e45781600319360112620001e457620008ff6200104a565b6200090962001066565b8351638da5cb5b60e01b815260209691926001600160a01b03928891839190829086165afa90811562000a7457908291879162000a40575b5016855260038652838520911684528452818320908251809486845492838152019381528681205b826007830110620009d157928792620002b495926200013d99899654938383106200038a57508282106200036b578282106200034c578282106200032d578282106200030e57828210620002f157828210620002d4575010620002bf575090500383620011ce565b80546001600160e01b031981861b8116875260c082811b82168b89015260a083811b83168a8a0152608084811b84166060808c019190915285901b8416908a0152838a1b831690890152828b1b8216908801521685850152610100909401936008919091019060010162000969565b62000a659150883d8a1162000a6c575b62000a5c8183620011ce565b81019062001233565b8862000941565b503d62000a50565b85513d88823e3d90fd5b5050503462000141578060031936011262000141576020918162000aa16200104a565b9162000aac620010c5565b6001600160a01b039384168252600586528282206001600160e01b0319909116825285522054915191168152f35b5082843462000b9c57606036600319011262000b9c5762000afa6200104a565b62000b0462001066565b9062000b0f6200107d565b91845195638da5cb5b60e01b87526020968781838160018060a01b038098165afa90811562000b925791848896949288969460ff999162000b70575b5016855288528185852091168452875283832091168252855220541690519015158152f35b62000b8b91508b3d8d1162000a6c5762000a5c8183620011ce565b8b62000b4b565b87513d88823e3d90fd5b80fd5b9092915034620006c9576020928360031936011262000eeb5762000bc26200104a565b338652600685528386205490946001600160a01b0392909183161562000ed457338752600382528285882096169586885282528487209385519083829687928282549586815201918c52828c20948c5b8b82600783011062000e5957508462000c7a97549383831062000e3b575b5082821062000e1c575b82821062000dfd575b82821062000dde575b82821062000dbf575b82821062000da2575b82821062000d85575b501062000d6f575b5090500385620011ce565b835190811562000d585750865b81811062000d175750509060067f0971095f3fa0f917fd0ad98319d7cdb8e837d8c98d5e47fb2700e8b68ac961c99233885260038152858820878952815285882080548982558062000cf5575b505033885252838620541692518062000cef339482620010dd565b0390a480f35b62000d0f918a526007838b20910160031c81019062001305565b388062000cd4565b33885260058352858820600191906001600160e01b031962000d3a83896200129f565b51168a52845286892080546001600160a01b03191690550162000c87565b85516338d4b05760e01b8152908101879052602490fd5b6001600160e01b03191681528591013862000c6f565b83811b6001600160e01b0319168552909301926001018462000c67565b838d1b6001600160e01b0319168552909301926001018462000c5e565b606084901b6001600160e01b0319168552909301926001018462000c55565b608084901b6001600160e01b0319168552909301926001018462000c4c565b60a084901b6001600160e01b0319168552909301926001018462000c43565b60c084901b6001600160e01b0319168552909301926001018462000c3a565b84901b6001600160e01b031916855290930192600101843862000c30565b836008949750600193966101009396928a549283809363ffffffff60e01b809681941b16875260c0938383861b1682890152838360a0928282851b16818c0152608083838d606090818484871b169101521b16908c01521b16908801521b169084015216878201520195019101928692899495929562000c12565b6024908551906333685ad760e01b82523390820152fd5b8480fd5b5082843462000b9c578160031936011262000b9c5762000f0e6200104a565b9062000f19620010c5565b8351638da5cb5b60e01b81526020956001600160a01b039487918391829088165afa90811562000f9857839291859187959162000f76575b50168252600586528282206001600160e01b0319909116825285522054915191168152f35b62000f919150883d8a1162000a6c5762000a5c8183620011ce565b8862000f51565b85513d85823e3d90fd5b8285873462000b9c578160031936011262000b9c5762000fc16200104a565b926024359467ffffffffffffffff8611620001e45762000fe78495963690840162001094565b338552600660205294909320546001600160a01b0394929085169081620010205750505093620006956200071892602096369162001254565b63bf0b215b60e01b8352339083019081526001600160a01b03909116602082015281906040010390fd5b600435906001600160a01b03821682036200106157565b600080fd5b602435906001600160a01b03821682036200106157565b604435906001600160a01b03821682036200106157565b9181601f84011215620010615782359167ffffffffffffffff83116200106157602083818601950101116200106157565b602435906001600160e01b0319821682036200106157565b6020908160408183019282815285518094520193019160005b82811062001105575050505090565b83516001600160e01b03191685529381019392810192600101620010f6565b90600182811c9216801562001156575b60208310146200114057565b634e487b7160e01b600052602260045260246000fd5b91607f169162001134565b6060810190811067ffffffffffffffff8211176200117e57604052565b634e487b7160e01b600052604160045260246000fd5b6020810190811067ffffffffffffffff8211176200117e57604052565b6040810190811067ffffffffffffffff8211176200117e57604052565b90601f8019910116810190811067ffffffffffffffff8211176200117e57604052565b919082519283825260005b8481106200121e575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201620011fc565b908160209103126200106157516001600160a01b0381168103620010615790565b92919267ffffffffffffffff82116200117e576040519162001281601f8201601f191660200184620011ce565b82948184528183011162001061578281602093846000960137010152565b8051821015620012b45760209160051b010190565b634e487b7160e01b600052603260045260246000fd5b7f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acf5b818110620012f8575050565b60008155600101620012ec565b81811062001311575050565b6000815560010162001305565b9190604092835193602091828601956001600160601b03198260601b168752601481526200134c81620011b1565b51955195838110620015ad575b50815193620013688562001161565b808360018060a01b038094169687815260008782015201526001600160601b0360a01b9185836000541617600055600197838954168955825167ffffffffffffffff908181116200117e5780600295620013c3875462001124565b601f811162001561575b508990601f8311600114620014e457600092620014d8575b5050600019600383901b1c1916908b1b1784555b8551906109f190818301908111838210176200117e57829162001b88833903906000f58015620014cd577f2d8895d948115783fa362a57339c4c179365fafeafdd7dca66364ae296f50b75949392916000911698818055556200145d815462001124565b908162001485575b5050846000526006845286826000209182541617905551918583523392a3565b81601f600093116001146200149f5750555b388062001465565b908290620014c5601f60008051602062002579833981519152940160051c8401620012ca565b555562001497565b84513d6000823e3d90fd5b015190503880620013e5565b908d93508760005260008051602062002579833981519152916000601f198516905b8d82821062001541575050841162001527575b505050811b018455620013f9565b015160001960f88460031b161c1916905538808062001519565b91929395968291958786015181550195019301908f959493929162001506565b6200159b908860005260008051602062002579833981519152601f850160051c8101918d8610620015a2575b601f0160051c019062001305565b38620013cd565b90915081906200158d565b60001990840360031b1b909516943862001359565b92916040805191602092838101906001600160601b03198860601b16825260148152620015ef81620011b1565b51905190848110620017a4575b50908251966200160c8862001161565b818460018060a01b038080941698898c5216998a8882015201526001600160601b0360a01b9286846000541617600055600198848a5416178955825167ffffffffffffffff908181116200117e57806002956200166a875462001124565b601f811162001764575b508990601f83116001146200170257600092620014d8575050600019600383901b1c1916908b1b1784558551906109f190818301908111838210176200117e57829162001b88833903906000f58015620014cd577f2d8895d948115783fa362a57339c4c179365fafeafdd7dca66364ae296f50b75949392916000911698818055556200145d815462001124565b908d93508760005260008051602062002579833981519152916000601f198516905b8d8282106200174457505084116200152757505050811b018455620013f9565b91929395968291958786015181550195019301908f959493929162001724565b6200179d908860005260008051602062002579833981519152601f850160051c8101918d8610620015a257601f0160051c019062001305565b3862001674565b60001990850360031b1b1638620015fc565b60408051631abad16560e21b81526001600160a01b0392831692600490600080848481838a5af193841562001b7b57819462001aac575b508351801562001a9557815b81811062001a005750503381526020926003845285822087835284528582209085519067ffffffffffffffff8211620019ed57680100000000000000008211620019ed575081548183558082106200199a575b50908692918587019183528583208160031c91845b8381106200193d57506007198116900380620018bc575b5050505060067f71b3c95c0b8611d2f0f9c4e492ebbcf20d034943bccac6ef1a71ae90e0f243fa9433835252205416925180620018b7339482620010dd565b0390a4565b928493855b818110620018f957505050015560067f71b3c95c0b8611d2f0f9c4e492ebbcf20d034943bccac6ef1a71ae90e0f243fa388062001878565b919597988097506200192a600192949596885160e01c908560021b60031b9163ffffffff809116831b921b19161790565b96019101918a96989795949392620018c1565b9091929394809650865b896008821062001967575050838201558995949392919060010162001861565b620019908893600193995160e01c908a60021b60031b9163ffffffff809116831b921b19161790565b9201960162001947565b620019cb90838552868520600780850160031c820192601c8660021b1680620019d2575b500160031c019062001305565b386200184c565b60001990818601918254918d0360031b1c16905538620019be565b634e487b7160e01b845260419052602483fd5b6001600160e01b031962001a1582886200129f565b511633845260056020908082528986208387528252868a8720541662001a5d5733865281528885209185525286832080546001600160a01b03191689179055600101620017f9565b338652815288852082865290528784205488516361a2116b60e11b815290861681880152602481018a90526044810191909152606490fd5b85516362d3093d60e11b8152808501889052602490fd5b9093503d8085833e62001ac08183620011ce565b810160209081838203126200060457825167ffffffffffffffff9384821162001b60570181601f8201121562001b7757805193841162001b64578360051b9088519462001b1085840187620011ce565b8552838086019282010192831162001b60578301905b82821062001b3a57505050509238620017ed565b81516001600160e01b03198116810362001b5c57815290830190830162001b26565b8880fd5b8780fd5b634e487b7160e01b875260418652602487fd5b8680fd5b508451903d90823e3d90fdfe60c08060405234620000ca573360a0526366b0182d60e01b8152600081600481335afa8015620000c4576000809281926200009b575b506080526001600160a01b03821662000087575b60405161068e9081620003638239608051818181610192015281816102c401526104a5015260a05181818161014d0152818161031301526105250152f35b6200009291620002b2565b50388062000049565b909150620000bb92503d8092823e620000b482620000e5565b016200018e565b90913862000035565b62000221565b600080fd5b634e487b7160e01b600052604160045260246000fd5b60c0601f91909101601f19168101906001600160401b038211908210176200010c57604052565b620000cf565b601f909101601f19168101906001600160401b038211908210176200010c57604052565b60e051906001600160a01b0382168203620000ca57565b6001600160401b0381116200010c57601f01601f191660200190565b60005b8381106200017d5750506000910152565b81810151838201526020016200016c565b606060bf19820112620000ca5760c0516001600160a01b0381168103620000ca5791620001ba62000136565b610100519092906001600160401b038111620000ca578160df82011215620000ca578060c00151620001ec816200014d565b92620001fc604051948562000112565b81845260e08284010111620000ca576200021e9160e060208501910162000169565b90565b6040513d6000823e3d90fd5b3d156200025d573d9062000241826200014d565b9162000251604051938462000112565b82523d6000602084013e565b606090565b906020916200027d8151809281855285808601910162000169565b601f01601f1916010190565b9091620002a36200021e9360408452604084019062000262565b91602081840391015262000262565b9190823b156200034157600080825160208401865af4907fb24ebe141c5f2a744b103bea65fce6c40e0dc65d7341d092c09b160f40447990620002f46200022d565b60405190956001600160a01b0316928190620003139088908362000289565b0390a2156200031e57565b508051156200032f57602081519101fd5b60405163061a160d60e41b8152600490fd5b604051636d17e5ef60e11b81526001600160a01b0384166004820152602490fdfe60806040526004361015610027575b36156100255761001d366102b5565b602081519101f35b005b6000803560e01c9081631cff79cd1461005a575080637b1039991461005557638da5cb5b0361000e5761017c565b610137565b60403660031901126100ca57600435610072816100cd565b60243567ffffffffffffffff928382116100ca57366023830112156100ca5781600401359384116100ca5736602485840101116100ca576100c66100ba8560248501866104a2565b60405191829182610123565b0390f35b80fd5b6001600160a01b038116036100de57565b600080fd5b919082519283825260005b84811061010f575050826000602080949584010152601f8019910116010190565b6020818301810151848301820152016100ee565b9060206101349281815201906100e3565b90565b346100de5760003660031901126100de576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346100de5760003660031901126100de576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff8211176101f957604052565b6101c1565b908160209103126100de5751610134816100cd565b6040513d6000823e3d90fd5b908160008237016000815290565b67ffffffffffffffff81116101f957601f01601f191660200190565b3d15610274573d9061025a8261022d565b9161026860405193846101d7565b82523d6000602084013e565b606090565b606090610134939260408252806040830152806000848401376000838284010152601f80199101168101906020838284030191015201906100e3565b6040516361be485960e01b81527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0381811660048401526001600160e01b03196000351660248401819052939493906020846044817f000000000000000000000000000000000000000000000000000000000000000085165afa93841561044e5760009461041e575b5083169182156103e357505060008060405180610362818961021f565b0390845af4907fc4dabe0d7ef7462e2218f2c398c21ef217803e1c46f5cf802d1a5d1d9b503f2f610391610249565b80966103a260405192839283610279565b0390a2156103ad5750565b8251909150156103c05750805190602001fd5b60405163023c045d60e21b81526001600160a01b03919091166004820152602490fd5b604051638848730f60e01b81523360048201526001600160a01b039190911660248201526001600160e01b0319919091166044820152606490fd5b61044091945060203d8111610447575b61043881836101d7565b8101906101fe565b9238610345565b503d61042e565b610213565b908160209103126100de575180151581036100de5790565b9291926104778261022d565b9161048560405193846101d7565b8294818452818301116100de578281602093846000960137010152565b917f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0333818316036104ee575b505061013492916104e891369161046b565b906105e5565b60405163b31d1b9960e01b81526001600160a01b0383811660048301523360248301528616604482015290602090829060649082907f0000000000000000000000000000000000000000000000000000000000000000165afa90811561044e57600091610592575b501561056257806104d6565b6040516355d1750960e01b81526001600160a01b0391821660048201523360248201529084166044820152606490fd5b6105b3915060203d81116105b9575b6105ab81836101d7565b810190610453565b38610556565b503d6105a1565b90916105d7610134936040845260408401906100e3565b9160208184039101526100e3565b9190823b1561066d57600080825160208401865af4907fb24ebe141c5f2a744b103bea65fce6c40e0dc65d7341d092c09b160f40447990610624610249565b60405190956001600160a01b0316928190610641908890836105c0565b0390a21561064b57565b5080511561065b57602081519101fd5b60405163061a160d60e41b8152600490fd5b604051636d17e5ef60e11b81526001600160a01b0384166004820152602490fd405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace";

    /*//////////////////////////////////////////////////////////////////////////
                                     DEPLOYERS
    //////////////////////////////////////////////////////////////////////////*/

    /// @notice Deploys {PRBProxyRegistry} from precompiled bytecode.
    function deployRegistry() public returns (IPRBProxyRegistry registry) {
        bytes memory bytecode = BYTECODE_REGISTRY;
        assembly {
            registry := create(0, add(bytecode, 0x20), mload(bytecode))
        }
        require(address(registry) != address(0), "PRBProxy Precompiles: deployment failed for Registry contract");
    }
}
